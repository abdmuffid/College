<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <title>Gross Domestic Product</title>

    <style>
        .color-box {
        width: 20px;
        height: 20px;
        margin-right: 10px;
        border: 1px solid #000;
        border-radius: 3px;
        display: inline-block;
        }
        .checkbox-container {
        margin-top: 10px;
        }
        label {
        display: flex;
        align-items: center;
        }
        </style>
</head>
<body>

    <div>
        <h2>Gross Domestic Product (Current US$ in Trillions)</h2>
        <div class="checkbox-container">
            <p style="margin-bottom: 0;">Select Regions to Include:</p>
            <label><span class="color-box" style="background-color:
        #d62728;"></span><input type="checkbox" id="checkbox1" checked>East Asia &
        Pacific</label>
            <label><span class="color-box" style="background-color:
        #1f77b4;"></span><input type="checkbox" id="checkbox2" checked>Europe &
        Central Asia</label>
            <label><span class="color-box" style="background-color:
        #2ca02c;"></span><input type="checkbox" id="checkbox3" checked>Latin America &
        Caribbean</label>
            <label><span class="color-box" style="background-color:
        #9467bd;"></span><input type="checkbox" id="checkbox4" checked>Middle East &
        North Africa</label>
            <label><span class="color-box" style="background-color:
        #ff7f0e;"></span><input type="checkbox" id="checkbox5" checked>South
        Asia</label>
            <label><span class="color-box" style="background-color:
        #fff022;"></span><input type="checkbox" id="checkbox6" checked>Sub-Saharan
        Africa</label>
            </div>
        </div>
            <div id="plotly-chart"></div>
        </div>

        <script>
            var x =
            [1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2000,2001,2002,
            2003,2004,2005,2006,2007,2008,2009,2010]

            const data1 = { x: x, y:
                [1,1.15,1.17,1.2,1.3,1.5,2,2.5,2.4,2.3,2.8,3.8,4.2,4.5,5.2,5.25,6.75,6.8,10,10.5,11.8], 
                name: 'East Asia & Pacific', type: 'scatter', mode: 'lines', line: {
                color: '#d62728' } };
            const data2 = { x: x, y:
                [1,1.15,1.17,1.2,1.3,1.5,1.55,1.7,2.1,2,2.3,3.3,3.8,4,4.44,4.7,5.8,6,7.7,9.2,10], 
                name: 'Europe & Central Asia', type: 'scatter', mode: 'lines', line: {
                color: '#1f77b4' } };
            const data3 = { x: x, y:
                [1,1.15,1.17,1.2,1.3,1.32,1.3,1.35,1.4,1.5,2,2.25,2.4,2.5,2.75,2.8,3,3.15,3.2,
                3.6,4], name: 'Latin America & Caribbean', type: 'scatter', mode: 'lines',
                line: { color: '#2ca02c' } };
            const data4 = { x: x, y:
                [1,1.1,1.14,1.2,1.3,1.3,1.3,1.32,1.36,1.5,1.8,2,2.2,2.25,2.5,2.6,2.7,3,3,3.3,3.5], 
                name: 'Middle East & North Africa', type: 'scatter', mode: 'lines', line:
                { color: '#9467bd' } };
            const data5 = { x: x, y:
                [1,1.1,1.1,1.1,1.2,1.22,1.23,1.28,1.3,1.5,1.6,1.8,2.1,2.2,2.25,2.5,2.6,2.7,2.8,3,3.2], 
                name: 'South Asia', type: 'scatter', mode: 'lines', line: { color:
                '#ff7f0e' } };
            const data6 = { x: x, y:
                [1,1.1,1.1,1.1,1.2,1,1.05,1.11,1.2,1.4,1.5,1.65,1.8,1.9,2.1,2.2,2.3,2.5,2.6,2.8,3], 
                name: 'Sub-Saharan Africa', type: 'scatter', mode: 'lines', line: {
                color: '#fff022' } };
            
            const initialData = [data1, data2, data3, data4, data5, data6];

            function updateChart() {
                const selectedData = [];
                if (document.getElementById('checkbox1').checked)
            selectedData.push(data1);
                if (document.getElementById('checkbox2').checked)
            selectedData.push(data2);
                if (document.getElementById('checkbox3').checked)
            selectedData.push(data3);
                if (document.getElementById('checkbox4').checked)
            selectedData.push(data4);
                if (document.getElementById('checkbox5').checked)
            selectedData.push(data5);
                if (document.getElementById('checkbox6').checked)
            selectedData.push(data6);
            
                Plotly.newPlot('plotly-chart', selectedData, { title: 
                    'Time Series Visualization' });
            }
            
            updateChart();

            document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
                checkbox.addEventListener('change', updateChart);
            });
        </script>
</body>
</html>